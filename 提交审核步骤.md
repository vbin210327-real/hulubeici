# 提交App Store审核步骤

## 准备工作清单

✅ 沙盒测试账号已创建：`vbin210327+review@gmail.com` / `brown1015F`
✅ 订阅产品已配置：Plus Monthly 和 Pro Yearly（状态：Ready to Submit）
✅ 隐私政策和服务条款已上线
✅ App截图和元数据已填写
✅ StoreKit.storekit已从Release构建中移除

## 第一步：归档应用

1. **打开Xcode项目**
   ```bash
   open "/Users/linfanbin/Desktop/葫芦背词/葫芦背词/葫芦背词.xcodeproj"
   ```

2. **选择目标设备**
   - 在Xcode顶部工具栏，选择目标为 **"Any iOS Device"**（不要选择模拟器）

3. **确认配置**
   - 点击菜单栏：Product → Scheme → Edit Scheme...
   - 确认 Run 的 Build Configuration 为 **Release**
   - 关闭对话框

4. **执行归档**
   - 点击菜单栏：**Product → Archive**
   - 等待构建完成（可能需要几分钟）
   - 构建成功后会自动打开 Organizer 窗口

## 第二步：验证并上传

在 Organizer 窗口中：

1. **选择刚才的归档**
   - 应该显示在列表顶部
   - 确认版本号和构建号正确

2. **点击 "Distribute App"**

3. **选择分发方式**
   - 选择 **"App Store Connect"**
   - 点击 "Next"

4. **选择分发选项**
   - 选择 **"Upload"**
   - 点击 "Next"

5. **配置选项**（保持默认即可）
   - ✅ Include bitcode for iOS content（如果有）
   - ✅ Upload your app's symbols...
   - ✅ Manage Version and Build Number（自动管理）
   - 点击 "Next"

6. **自动签名**
   - Xcode会自动管理证书和配置文件
   - 点击 "Next"

7. **最终确认**
   - 检查应用信息
   - 点击 **"Upload"**

8. **等待上传完成**
   - 显示进度条
   - 完成后显示 "Upload Successful"

## 第三步：等待处理

1. **上传完成后**
   - 进入 [App Store Connect](https://appstoreconnect.apple.com)
   - 导航到：我的App → 葫芦背词

2. **等待构建处理**
   - 状态显示为 "处理中"（Processing）
   - 通常需要 10-30 分钟
   - 你会收到邮件通知处理完成

3. **处理完成后**
   - 构建状态变为可选择
   - 继续下一步

## 第四步：填写审核信息

处理完成后，在 App Store Connect 中：

1. **选择构建版本**
   - 在应用版本页面
   - 点击 "构建版本" 旁边的 "+"
   - 选择刚上传的构建版本

2. **填写审核信息**

   导航到：**App信息 → App审核信息**

   **A. 登录信息**
   - ✅ 勾选 "需要登录"
   - 用户名：`vbin210327+review@gmail.com`
   - 密码：`brown1015F`

   **B. 联系信息**
   - 姓名：林凡滨
   - 电话号码：你的电话
   - 电子邮件：vbin210327@gmail.com

   **C. 审核备注**（复制以下内容）：

```
【订阅说明】
本应用采用完全订阅制。已为审核团队准备沙盒测试账号。

账号：vbin210327+review@gmail.com
密码：brown1015F

【使用说明】
1. 应用启动后会自动进入主界面
2. 在个人中心(Profile)点击"订阅管理"
3. 选择任意订阅套餐并完成购买（沙盒环境，无实际费用）
4. 购买后即可使用所有功能：词书学习、进度追踪、iCloud同步等

【Subscription Information】
This app requires subscription. Sandbox test account is provided.

Account: vbin210327+review@gmail.com
Password: brown1015F

【Instructions】
1. App launches directly to main interface
2. Tap "Subscription Management" in Profile tab
3. Select any plan and complete purchase (sandbox, no real charges)
4. After purchase, all features available: vocabulary learning, progress tracking, iCloud sync

【注意事项】
- 沙盒订阅会加速过期，如过期可在应用内重新订阅
- 应用支持iOS 17.0+
- 所有数据通过iCloud同步

【Technical Notes】
- Sandbox subscriptions expire faster; can resubscribe in-app if needed
- iOS 17.0+ required
- All data synced via iCloud

联系：vbin210327@gmail.com
```

3. **确认其他信息**
   - 版权：2025 林凡滨
   - 年龄分级：已设置
   - 隐私政策URL：https://vbin210327-real.github.io/hulubeici-legal/PrivacyPolicy
   - 服务条款URL：https://vbin210327-real.github.io/hulubeici-legal/TermsOfService

## 第五步：提交审核

1. **最终检查**
   - ✅ 构建版本已选择
   - ✅ 审核信息已填写
   - ✅ 截图和元数据完整
   - ✅ 订阅产品状态为 "Ready to Submit"
   - ✅ 隐私政策链接可访问

2. **点击提交**
   - 在版本页面顶部
   - 点击蓝色按钮 **"提交以供审核"**
   - 如有问题提示，根据提示修正

3. **确认提交**
   - 阅读并同意出口合规声明
   - 确认广告标识符使用（如果适用）
   - 最终确认提交

## 第六步：等待审核

1. **状态变化**
   - 提交后：Waiting for Review（等待审核）
   - 开始审核：In Review（审核中）
   - 通常需要 1-7 天

2. **保持联系畅通**
   - 检查邮箱（vbin210327@gmail.com）
   - 如果审核团队有问题，会通过邮件或App Store Connect联系你
   - 及时回复可加快审核进度

3. **可能的结果**
   - ✅ **Approved**（通过）：可以发布上架
   - ⚠️ **Metadata Rejected**（元数据被拒）：修改后重新提交，不需要新构建版本
   - ❌ **Rejected**（被拒）：需要修改代码，重新构建并上传

## 常见被拒原因及应对

### 1. 审核人员无法登录
**原因**：沙盒账号信息不正确或测试账号被锁定

**解决**：
- 在App Store Connect → 解决中心查看具体问题
- 回复审核团队，确认账号信息
- 如需要，创建新的沙盒测试账号

### 2. 订阅功能无法使用
**原因**：订阅产品配置问题或代码问题

**解决**：
- 检查订阅产品状态是否为 "Ready to Submit"
- 确认Product ID在代码中正确配置
- 提供详细的购买步骤说明

### 3. 缺少免费功能
**原因**：应用没有提供任何免费试用或演示功能

**解决**：
- 在审核备注中强调提供了测试账号
- 说明应用的教育价值
- 如果被拒，考虑添加有限的免费功能

### 4. 隐私政策或服务条款问题
**原因**：链接无法访问或内容不完整

**解决**：
- 确认GitHub Pages链接可正常访问
- 检查隐私政策是否符合要求
- 更新内容后回复审核团队

## 审核通过后

1. **选择发布方式**
   - 手动发布：你来决定何时上架
   - 自动发布：审核通过后立即上架

2. **发布应用**
   - 点击 "发布此版本"
   - 应用会在几小时内在App Store上线

3. **监控数据**
   - App Analytics：下载量、使用数据
   - 销售和趋势：订阅数据
   - 评分和评论：用户反馈

## 需要帮助？

如果在任何步骤遇到问题：
1. 查看 Xcode 控制台的错误信息
2. 检查 App Store Connect 的 "解决中心"
3. 查阅 Apple 开发者文档
4. 联系 Apple 开发者支持

---

**预计时间线**：
- 归档上传：30分钟
- 构建处理：10-30分钟
- 审核等待：1-7天
- 总计：约2-8天可上架

祝提交顺利！🎉
