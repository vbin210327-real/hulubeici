# ä¸ºå¹´åº¦è®¢é˜…æ·»åŠ 7å¤©å…è´¹è¯•ç”¨æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨ä¸ºè‘«èŠ¦èƒŒè¯çš„å¹´åº¦è®¢é˜…ï¼ˆPro Yearlyï¼‰æ·»åŠ 7å¤©å…è´¹è¯•ç”¨åŠŸèƒ½ã€‚

---

## ğŸ“‹ ç›®å½•

1. [åŠŸèƒ½è¯´æ˜](#åŠŸèƒ½è¯´æ˜)
2. [åœ¨ App Store Connect ä¸­é…ç½®](#åœ¨-app-store-connect-ä¸­é…ç½®)
3. [ä»£ç å¤„ç†ï¼ˆè‡ªåŠ¨æ”¯æŒï¼‰](#ä»£ç å¤„ç†è‡ªåŠ¨æ”¯æŒ)
4. [æµ‹è¯•å…è´¹è¯•ç”¨](#æµ‹è¯•å…è´¹è¯•ç”¨)
5. [æ³¨æ„äº‹é¡¹](#æ³¨æ„äº‹é¡¹)
6. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## åŠŸèƒ½è¯´æ˜

### ç”¨æˆ·ä½“éªŒæµç¨‹

1. **ç”¨æˆ·è®¢é˜…**ï¼šç”¨æˆ·é€‰æ‹©å¹´åº¦è®¢é˜…ï¼ˆPro Yearlyï¼‰
2. **å…è´¹è¯•ç”¨å¼€å§‹**ï¼šç«‹å³è·å¾—7å¤©å…è´¹è¯•ç”¨æœŸï¼Œäº«å—æ‰€æœ‰Proä¼šå‘˜æƒç›Š
3. **è¯•ç”¨æœŸå†…**ï¼šç”¨æˆ·å¯ä»¥éšæ—¶åœ¨è®¾ç½®ä¸­å–æ¶ˆè®¢é˜…
4. **è¯•ç”¨æœŸç»“æŸ**ï¼š
   - å¦‚æœæœªå–æ¶ˆï¼šè‡ªåŠ¨æ‰£è´¹ Â¥70ï¼Œå¼€å§‹æ­£å¼çš„å¹´åº¦è®¢é˜…å‘¨æœŸ
   - å¦‚æœå·²å–æ¶ˆï¼šä¸ä¼šæ‰£è´¹ï¼Œä¼šå‘˜æƒç›Šåœ¨ç¬¬7å¤©ç»“æŸæ—¶ç»ˆæ­¢

### é‡è¦ç‰¹æ€§

- âœ… 7å¤©å†…å…è´¹äº«å—æ‰€æœ‰Proä¼šå‘˜åŠŸèƒ½
- âœ… è¯•ç”¨æœŸå†…å¯éšæ—¶å–æ¶ˆï¼Œä¸ä¼šè¢«æ‰£è´¹
- âœ… è¯•ç”¨ç»“æŸåè‡ªåŠ¨ç»­è´¹ï¼ˆå¦‚æœªå–æ¶ˆï¼‰
- âœ… ç¬¦åˆAppleçš„è®¢é˜…æœ€ä½³å®è·µ

---

## åœ¨ App Store Connect ä¸­é…ç½®

### æ­¥éª¤ 1ï¼šç™»å½• App Store Connect

1. è®¿é—® [appstoreconnect.apple.com](https://appstoreconnect.apple.com)
2. ä½¿ç”¨æ‚¨çš„ Apple ID ç™»å½•
3. ç‚¹å‡» **"æˆ‘çš„ App"**
4. é€‰æ‹© **"è‘«èŠ¦èƒŒè¯"**

### æ­¥éª¤ 2ï¼šè¿›å…¥å¹´åº¦è®¢é˜…äº§å“é¡µé¢

1. ç‚¹å‡»å·¦ä¾§èœå•çš„ **"è®¢é˜…"**
2. ç‚¹å‡»è®¢é˜…ç»„ **"premium"**ï¼ˆæˆ–æ‚¨çš„è®¢é˜…ç»„åç§°ï¼‰
3. æ‰¾åˆ°å¹¶ç‚¹å‡»å¹´åº¦è®¢é˜…äº§å“ï¼š**com.hulubeici.pro.yearly**

### æ­¥éª¤ 3ï¼šæ·»åŠ å¼•å…¥ä¼˜æƒ ï¼ˆå…è´¹è¯•ç”¨ï¼‰

> ğŸ’¡ **ä»€ä¹ˆæ˜¯å¼•å…¥ä¼˜æƒ ï¼Ÿ**  
> å¼•å…¥ä¼˜æƒ ï¼ˆIntroductory Offerï¼‰æ˜¯Appleä¸ºé¦–æ¬¡è®¢é˜…ç”¨æˆ·æä¾›çš„ç‰¹æ®Šä¼˜æƒ ï¼ŒåŒ…æ‹¬å…è´¹è¯•ç”¨ã€ä¼˜æƒ ä»·æ ¼ç­‰ã€‚

#### 3.1 è¿›å…¥ä¼˜æƒ é…ç½®

1. åœ¨äº§å“è¯¦æƒ…é¡µé¢ï¼Œæ‰¾åˆ° **"è®¢é˜…ä»·æ ¼"** æ ‡ç­¾é¡µ
2. å‘ä¸‹æ»šåŠ¨åˆ° **"å¼•å…¥ä¼˜æƒ "** éƒ¨åˆ†
3. ç‚¹å‡» **"è®¾ç½®å¼•å…¥ä¼˜æƒ "** æˆ– **"+"** æŒ‰é’®

#### 3.2 é…ç½®å…è´¹è¯•ç”¨

**ä¼˜æƒ ç±»å‹**ï¼š
- é€‰æ‹© **"å…è´¹è¯•ç”¨"**ï¼ˆFree Trialï¼‰

**è¯•ç”¨æ—¶é•¿**ï¼š
- é€‰æ‹© **"7å¤©"**

**ä¼˜æƒ å¯ç”¨æ€§**ï¼š
- é€‰æ‹© **"æ‰€æœ‰åœ°åŒº"** æˆ–æ‚¨æƒ³æä¾›è¯•ç”¨çš„ç‰¹å®šåœ°åŒº
- å»ºè®®é€‰æ‹©æ‰€æœ‰åœ°åŒºä»¥æä¾›ä¸€è‡´çš„ç”¨æˆ·ä½“éªŒ

**ä¼˜æƒ èµ„æ ¼**ï¼š
- é»˜è®¤é€‰æ‹© **"æ–°è®¢é˜…è€…"**
  - è¿™æ„å‘³ç€åªæœ‰ä»æœªè®¢é˜…è¿‡æ‚¨Appä»»ä½•è®¢é˜…äº§å“çš„ç”¨æˆ·æ‰èƒ½äº«å—å…è´¹è¯•ç”¨
  - è¿™æ˜¯Appleæ¨èçš„è®¾ç½®ï¼Œé˜²æ­¢ç”¨æˆ·é‡å¤åˆ©ç”¨è¯•ç”¨æœŸ

#### 3.3 ä¿å­˜è®¾ç½®

1. ç‚¹å‡» **"å®Œæˆ"** æˆ– **"æ·»åŠ "**
2. ç‚¹å‡»å³ä¸Šè§’ **"ä¿å­˜"** æŒ‰é’®
3. ç³»ç»Ÿä¼šæ˜¾ç¤º **"å¼•å…¥ä¼˜æƒ å·²æ·»åŠ "** çš„ç¡®è®¤æ¶ˆæ¯

### æ­¥éª¤ 4ï¼šæäº¤å®¡æ ¸ï¼ˆå¦‚æœéœ€è¦ï¼‰

#### 4.1 æ£€æŸ¥å®¡æ ¸çŠ¶æ€

è¿”å›è®¢é˜…äº§å“ä¸»é¡µï¼ŒæŸ¥çœ‹çŠ¶æ€ï¼š
- **"å‡†å¤‡æäº¤"**ï¼šé…ç½®å·²ä¿å­˜ï¼Œç­‰å¾…æ‚¨æäº¤
- **"ç­‰å¾…å®¡æ ¸"**ï¼šå·²æäº¤ï¼Œç­‰å¾…Appleå®¡æ ¸
- **"å·²æ‰¹å‡†"**ï¼šå®¡æ ¸é€šè¿‡ï¼Œå¯ä»¥ä½¿ç”¨

#### 4.2 æäº¤å®¡æ ¸ï¼ˆå¦‚æœæ˜¯æ–°äº§å“æˆ–é‡å¤§ä¿®æ”¹ï¼‰

å¦‚æœè¿™æ˜¯é¦–æ¬¡æ·»åŠ å…è´¹è¯•ç”¨ï¼Œæˆ–äº§å“çŠ¶æ€æ˜¾ç¤º **"å‡†å¤‡æäº¤"**ï¼š

1. è¿”å› App ä¸»é¡µ
2. ç‚¹å‡»å·¦ä¾§ **"App Store"** æ ‡ç­¾
3. é€‰æ‹©å½“å‰ç‰ˆæœ¬æˆ–åˆ›å»ºæ–°ç‰ˆæœ¬
4. æ»šåŠ¨åˆ° **"App å†…è´­ä¹°é¡¹ç›®å’Œè®¢é˜…"**
5. ç¡®è®¤å¹´åº¦è®¢é˜…äº§å“å·²åŒ…å«åœ¨åˆ—è¡¨ä¸­
6. ç‚¹å‡» **"æäº¤ä»¥ä¾›å®¡æ ¸"**

> âš ï¸ **æ³¨æ„**ï¼šå¦‚æœè®¢é˜…äº§å“å·²ç»ä¸Šçº¿ï¼Œæ·»åŠ å…è´¹è¯•ç”¨é€šå¸¸ä¸éœ€è¦é‡æ–°æäº¤æ•´ä¸ªAppï¼Œåªéœ€è¦æäº¤è®¢é˜…äº§å“çš„æ›´æ–°å³å¯ã€‚

---

## ä»£ç å¤„ç†ï¼ˆè‡ªåŠ¨æ”¯æŒï¼‰

å¥½æ¶ˆæ¯ï¼**æ‚¨çš„ä»£ç å·²ç»å®Œå…¨æ”¯æŒå…è´¹è¯•ç”¨ï¼Œæ— éœ€ä»»ä½•ä¿®æ”¹ã€‚**

### ä¸ºä»€ä¹ˆä¸éœ€è¦ä¿®æ”¹ä»£ç ï¼Ÿ

æ‚¨çš„ App ä½¿ç”¨çš„æ˜¯ **StoreKit 2**ï¼Œå®ƒä¼šè‡ªåŠ¨å¤„ç†å…è´¹è¯•ç”¨çš„æ‰€æœ‰é€»è¾‘ï¼š

1. **è‡ªåŠ¨æ˜¾ç¤ºè¯•ç”¨ä¿¡æ¯**ï¼š
   - StoreKit çš„è´­ä¹°ç•Œé¢ä¼šè‡ªåŠ¨æ˜¾ç¤º"7å¤©å…è´¹è¯•ç”¨ï¼Œä¹‹åæ¯å¹´Â¥70"
   - ç”¨æˆ·å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°è¯•ç”¨æ¡æ¬¾

2. **è‡ªåŠ¨å¤„ç†è¯•ç”¨æœŸ**ï¼š
   - åœ¨è¯•ç”¨æœŸå†…ï¼Œ`Transaction.currentEntitlements` ä¼šè¿”å›æœ‰æ•ˆè®¢é˜…
   - `isPremium` ä¼šè‡ªåŠ¨è®¾ç½®ä¸º `true`
   - ç”¨æˆ·å¯ä»¥äº«å—æ‰€æœ‰Proä¼šå‘˜åŠŸèƒ½

3. **è‡ªåŠ¨å¤„ç†è½¬æ¢**ï¼š
   - è¯•ç”¨æœŸç»“æŸåï¼ŒStoreKit ä¼šè‡ªåŠ¨å°è¯•æ‰£è´¹
   - å¦‚æœæˆåŠŸï¼Œè®¢é˜…æ— ç¼ç»­æœŸ
   - å¦‚æœå¤±è´¥ï¼ˆå¦‚ç”¨æˆ·å–æ¶ˆï¼‰ï¼Œè®¢é˜…è‡ªåŠ¨ç»ˆæ­¢

### æ‚¨çš„ç°æœ‰ä»£ç å¦‚ä½•å·¥ä½œ

è®©æˆ‘ä»¬çœ‹çœ‹æ‚¨çš„ `PurchaseStore.swift` ä¸­çš„å…³é”®éƒ¨åˆ†ï¼š

```swift
private func refreshEntitlements() async {
    for await ent in Transaction.currentEntitlements {
        if case .verified(let t) = ent {
            if t.productID == AppEntitlements.ProductID.premiumYearly {
                premium = true
                tier = .pro
                expiryDate = t.expirationDate  // è¯•ç”¨æœŸç»“æŸæ—¥æœŸ
            }
        }
    }
}
```

è¿™æ®µä»£ç ä¼šï¼š
- âœ… åœ¨è¯•ç”¨æœŸå†…è¯†åˆ«ç”¨æˆ·ä¸ºProä¼šå‘˜
- âœ… æ­£ç¡®è·å–è¯•ç”¨ç»“æŸæ—¥æœŸï¼ˆexpirationDateï¼‰
- âœ… åœ¨è¯•ç”¨ç»“æŸåè‡ªåŠ¨æ›´æ–°ç”¨æˆ·çŠ¶æ€

### å¯é€‰ï¼šåœ¨UIä¸­æ˜¾ç¤ºè¯•ç”¨ä¿¡æ¯

è™½ç„¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†æ‚¨å¯ä»¥åœ¨ä»˜è´¹å¢™ï¼ˆPaywallViewï¼‰ä¸­çªå‡ºæ˜¾ç¤ºå…è´¹è¯•ç”¨ï¼š

```swift
// åœ¨ PaywallView.swift ä¸­ï¼Œå·²ç»å±•ç¤ºäº†äº§å“çš„é»˜è®¤æè¿°
// StoreKit 2 çš„ Product å¯¹è±¡ä¼šè‡ªåŠ¨åŒ…å«è¯•ç”¨ä¿¡æ¯
```

StoreKit çš„ `Product` å¯¹è±¡ä¼šè‡ªåŠ¨æä¾›ï¼š
- `product.subscription?.introductoryOffer` - è¯•ç”¨ä¼˜æƒ ä¿¡æ¯
- è´­ä¹°æŒ‰é’®ä¼šè‡ªåŠ¨æ˜¾ç¤ºè¯•ç”¨æ¡æ¬¾

---

## æµ‹è¯•å…è´¹è¯•ç”¨

### æ–¹æ³• 1ï¼šä½¿ç”¨æ²™ç›’æµ‹è¯•è´¦å·ï¼ˆæ¨èï¼‰

#### æ­¥éª¤ 1ï¼šåˆ›å»ºæ²™ç›’æµ‹è¯•è´¦å·

1. ç™»å½• [App Store Connect](https://appstoreconnect.apple.com)
2. ç‚¹å‡» **"ç”¨æˆ·å’Œè®¿é—®"**
3. é€‰æ‹© **"æ²™ç›’æµ‹è¯•å‘˜"** æ ‡ç­¾
4. ç‚¹å‡» **"+"** åˆ›å»ºæ–°æµ‹è¯•è´¦å·
5. å¡«å†™ä¿¡æ¯ï¼š
   - **é‚®ç®±**ï¼šä½¿ç”¨ä¸€ä¸ªæœªæ³¨å†Œè¿‡Apple IDçš„é‚®ç®±
   - **å¯†ç **ï¼šè®¾ç½®ä¸€ä¸ªå¼ºå¯†ç 
   - **åœ°åŒº**ï¼šä¸­å›½
6. ç‚¹å‡» **"é‚€è¯·"**

#### æ­¥éª¤ 2ï¼šåœ¨è®¾å¤‡ä¸Šæµ‹è¯•

**å‡†å¤‡å·¥ä½œ**ï¼š
1. æ‰“å¼€iPhoneçš„ **è®¾ç½®**
2. æ»šåŠ¨åˆ° **App Store**
3. ç‚¹å‡»æ‚¨å½“å‰çš„Apple ID
4. é€‰æ‹© **é€€å‡ºç™»å½•**

**å¼€å§‹æµ‹è¯•**ï¼š
1. åœ¨Xcodeä¸­è¿è¡ŒAppåˆ°çœŸæœºæˆ–æ¨¡æ‹Ÿå™¨
2. æ‰“å¼€Appï¼Œè¿›å…¥ä»˜è´¹è®¢é˜…é¡µé¢
3. ç‚¹å‡» **å¹´åº¦è®¢é˜…ï¼ˆPro Yearlyï¼‰**
4. ç³»ç»Ÿä¼šæç¤ºç™»å½•Apple ID
5. ä½¿ç”¨åˆšåˆ›å»ºçš„ **æ²™ç›’æµ‹è¯•è´¦å·** ç™»å½•

**éªŒè¯è¯•ç”¨ä¿¡æ¯**ï¼š
- âœ… è´­ä¹°ç¡®è®¤ç•Œé¢åº”è¯¥æ˜¾ç¤º **"7å¤©å…è´¹è¯•ç”¨"**
- âœ… è¯´æ˜æ–‡å­—ç±»ä¼¼ï¼š"å‰7å¤©å…è´¹ï¼Œä¹‹åæ¯å¹´Â¥70"
- âœ… ç‚¹å‡»è®¢é˜…åï¼Œç«‹å³è·å¾—Proä¼šå‘˜æƒç›Š

**æŸ¥çœ‹è®¢é˜…çŠ¶æ€**ï¼š
1. åœ¨Appä¸­æ£€æŸ¥ `isPremium` ä¸º `true`
2. æ£€æŸ¥ `subscriptionTier` ä¸º `.pro`
3. æ£€æŸ¥ `subscriptionExpirationDate` æ˜¾ç¤º7å¤©åçš„æ—¥æœŸ

#### æ­¥éª¤ 3ï¼šæµ‹è¯•è¯•ç”¨æœŸç»“æŸ

> â±ï¸ **æ²™ç›’ç¯å¢ƒä¸­çš„æ—¶é—´åŠ é€Ÿ**ï¼š
> - 7å¤©å…è´¹è¯•ç”¨ â†’ åœ¨æ²™ç›’ä¸­çº¦ç­‰äº **15åˆ†é’Ÿ**
> - è¿™æ„å‘³ç€æ‚¨åªéœ€ç­‰å¾…15åˆ†é’Ÿå°±èƒ½çœ‹åˆ°è¯•ç”¨ç»“æŸåçš„è¡Œä¸º

**ç­‰å¾…è¯•ç”¨æœŸç»“æŸ**ï¼š
1. è®¢é˜…åç­‰å¾…çº¦15åˆ†é’Ÿ
2. Appä¼šè‡ªåŠ¨åˆ·æ–°è®¢é˜…çŠ¶æ€
3. æ£€æŸ¥ï¼š
   - å¦‚æœæœªå–æ¶ˆï¼šåº”è¯¥è‡ªåŠ¨è½¬ä¸ºä»˜è´¹è®¢é˜…
   - å¦‚æœå·²å–æ¶ˆï¼šä¼šå‘˜æƒç›Šåº”è¯¥ç»ˆæ­¢

### æ–¹æ³• 2ï¼šä½¿ç”¨StoreKité…ç½®æ–‡ä»¶ï¼ˆæœ¬åœ°æµ‹è¯•ï¼‰

#### æ­¥éª¤ 1ï¼šæ›´æ–°StoreKité…ç½®

1. åœ¨Xcodeä¸­æ‰¾åˆ° `StoreKit.storekit` æ–‡ä»¶
2. é€‰æ‹©å¹´åº¦è®¢é˜…äº§å“ `com.hulubeici.pro.yearly`
3. åœ¨å³ä¾§å±æ€§é¢æ¿ä¸­ï¼Œæ‰¾åˆ° **"Introductory Offer"** éƒ¨åˆ†
4. å¯ç”¨ **"Free Trial"**
5. è®¾ç½® **"Duration"** ä¸º **"7 Days"**

#### æ­¥éª¤ 2ï¼šè¿è¡Œæµ‹è¯•

1. åœ¨Xcodeä¸­é€‰æ‹©Run Scheme
2. ç¡®ä¿ **Options â†’ StoreKit Configuration** é€‰æ‹©äº† `StoreKit.storekit`
3. è¿è¡ŒApp
4. æµ‹è¯•è®¢é˜…æµç¨‹

**æœ¬åœ°æµ‹è¯•çš„é™åˆ¶**ï¼š
- âš ï¸ æ—¶é—´ä¸ä¼šçœŸçš„è¿‡å»7å¤©
- âš ï¸ éœ€è¦æ‰‹åŠ¨åœ¨StoreKité…ç½®ä¸­æ¨¡æ‹Ÿæ—¶é—´è·³è½¬
- âœ… å¯ä»¥å¿«é€ŸéªŒè¯UIæ˜¾ç¤ºæ˜¯å¦æ­£ç¡®

### æµ‹è¯•æ£€æŸ¥æ¸…å•

åœ¨å®Œæˆæµ‹è¯•å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] è´­ä¹°ç•Œé¢æ˜¾ç¤º **"7å¤©å…è´¹è¯•ç”¨"** æ–‡å­—
- [ ] è¯•ç”¨æœŸå¼€å§‹åï¼Œç”¨æˆ·ç«‹å³è·å¾—Proä¼šå‘˜æƒç›Š
- [ ] `isPremium` ä¸º `true`
- [ ] `subscriptionExpirationDate` æ˜¾ç¤ºæ­£ç¡®çš„ç»“æŸæ—¥æœŸ
- [ ] ç”¨æˆ·å¯ä»¥åœ¨è®¾ç½®ä¸­å–æ¶ˆè®¢é˜…
- [ ] å–æ¶ˆåï¼Œè¯•ç”¨æœŸç»“æŸæ—¶ä¼šå‘˜æƒç›Šç»ˆæ­¢
- [ ] æœªå–æ¶ˆæ—¶ï¼Œè¯•ç”¨æœŸç»“æŸåè‡ªåŠ¨ç»­è´¹

---

## æ³¨æ„äº‹é¡¹

### âš ï¸ é‡è¦é™åˆ¶

1. **ä»…é¦–æ¬¡è®¢é˜…ç”¨æˆ·å¯ç”¨**
   - å…è´¹è¯•ç”¨ä»…é€‚ç”¨äºä»æœªè®¢é˜…è¿‡æ‚¨Appä»»ä½•äº§å“çš„ç”¨æˆ·
   - å¦‚æœç”¨æˆ·ä¹‹å‰è®¢é˜…è¿‡æœˆåº¦ä¼šå‘˜ï¼Œå†è®¢é˜…å¹´åº¦ä¼šå‘˜æ—¶ä¸ä¼šæœ‰è¯•ç”¨æœŸ
   - è¿™æ˜¯Appleçš„é™åˆ¶ï¼Œé˜²æ­¢ç”¨æˆ·æ»¥ç”¨è¯•ç”¨æœŸ

2. **å–æ¶ˆæ”¿ç­–æ¸…æ™°åŒ–**
   - ç¡®ä¿åœ¨Appæè¿°å’Œè®¢é˜…é¡µé¢æ¸…æ¥šè¯´æ˜ï¼š
     - "è¯•ç”¨æœŸå†…éšæ—¶å¯ä»¥å–æ¶ˆï¼Œä¸ä¼šæ‰£è´¹"
     - "è¯•ç”¨ç»“æŸå‰24å°æ—¶ä¼šè‡ªåŠ¨ç»­è´¹"
   - å»ºè®®åœ¨ä»˜è´¹å¢™é¡µé¢æ·»åŠ æ¸…æ™°çš„è¯´æ˜æ–‡å­—

3. **å®¶åº­å…±äº«**
   - å¦‚æœæ‚¨å¯ç”¨äº†å®¶åº­å…±äº«ï¼Œè¯•ç”¨æœŸä¹Ÿä¼šå…±äº«ç»™å®¶åº­æˆå‘˜
   - ä½†ä»ç„¶åªæœ‰é¦–æ¬¡è®¢é˜…çš„ç”¨æˆ·æ‰èƒ½äº«å—è¯•ç”¨

### ğŸ“± ç”¨æˆ·ä½“éªŒå»ºè®®

#### 1. åœ¨ä»˜è´¹å¢™çªå‡ºæ˜¾ç¤ºè¯•ç”¨

åœ¨ `PaywallView.swift` ä¸­ï¼Œå»ºè®®æ·»åŠ é†’ç›®çš„è¯•ç”¨æ ‡ç­¾ï¼š

```
ğŸ é¦–æ¬¡è®¢é˜…äº«7å¤©å…è´¹è¯•ç”¨
```

#### 2. æ¸…æ™°çš„æ¡æ¬¾è¯´æ˜

ç¤ºä¾‹æ–‡æœ¬ï¼š
```
â€¢ å‰7å¤©å®Œå…¨å…è´¹
â€¢ è¯•ç”¨æœŸå†…å¯éšæ—¶å–æ¶ˆ
â€¢ è¯•ç”¨ç»“æŸåè‡ªåŠ¨ç»­è´¹ Â¥70/å¹´
â€¢ å¯éšæ—¶åœ¨è®¾ç½®ä¸­ç®¡ç†è®¢é˜…
```

#### 3. æé†’ç”¨æˆ·å–æ¶ˆæ–¹å¼

åœ¨Appçš„è®¾ç½®æˆ–å¸®åŠ©é¡µé¢ä¸­ï¼Œè¯´æ˜å¦‚ä½•å–æ¶ˆè®¢é˜…ï¼š
```
å¦‚ä½•å–æ¶ˆè®¢é˜…ï¼š
1. æ‰“å¼€iPhoneçš„"è®¾ç½®"
2. ç‚¹å‡»æ‚¨çš„Apple ID
3. é€‰æ‹©"è®¢é˜…"
4. æ‰¾åˆ°"è‘«èŠ¦èƒŒè¯"å¹¶ç‚¹å‡»
5. ç‚¹å‡»"å–æ¶ˆè®¢é˜…"
```

---

## å¸¸è§é—®é¢˜

### Q1: æ·»åŠ å…è´¹è¯•ç”¨åï¼Œéœ€è¦æ›´æ–°Appç‰ˆæœ¬å—ï¼Ÿ

**A:** ä¸éœ€è¦ï¼å…è´¹è¯•ç”¨æ˜¯åœ¨App Store Connectåå°é…ç½®çš„ï¼Œä¸éœ€è¦æ›´æ–°Appä»£ç æˆ–æäº¤æ–°ç‰ˆæœ¬ã€‚é…ç½®å®Œæˆåï¼Œæ‰€æœ‰ç‰ˆæœ¬çš„Appéƒ½ä¼šè‡ªåŠ¨æ”¯æŒå…è´¹è¯•ç”¨ã€‚

### Q2: å¦‚æœç”¨æˆ·åœ¨è¯•ç”¨æœŸå†…å–æ¶ˆï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

**A:** 
- ç”¨æˆ·ä¼šç»§ç»­äº«å—Proä¼šå‘˜æƒç›Šï¼Œç›´åˆ°7å¤©è¯•ç”¨æœŸç»“æŸ
- è¯•ç”¨æœŸç»“æŸåï¼Œä¼šå‘˜æƒç›Šè‡ªåŠ¨ç»ˆæ­¢
- ä¸ä¼šæ‰£å–ä»»ä½•è´¹ç”¨
- ç”¨æˆ·çš„è®¢é˜…çŠ¶æ€ä¼šå˜ä¸º"å·²è¿‡æœŸ"

### Q3: ç”¨æˆ·å¯ä»¥é‡å¤äº«å—å…è´¹è¯•ç”¨å—ï¼Ÿ

**A:** ä¸å¯ä»¥ã€‚Appleé™åˆ¶æ¯ä¸ªç”¨æˆ·ï¼ˆåŸºäºApple IDï¼‰åªèƒ½ä½¿ç”¨ä¸€æ¬¡å…è´¹è¯•ç”¨ã€‚å³ä½¿ï¼š
- ç”¨æˆ·åˆ é™¤Appé‡æ–°å®‰è£…
- ç”¨æˆ·å–æ¶ˆåé‡æ–°è®¢é˜…
- ç”¨æˆ·ä»ä¸åŒè®¾å¤‡è®¢é˜…

éƒ½ä¸ä¼šå†æœ‰å…è´¹è¯•ç”¨ã€‚

### Q4: æœˆåº¦è®¢é˜…è¦ä¸è¦ä¹ŸåŠ å…è´¹è¯•ç”¨ï¼Ÿ

**A:** å¯ä»¥è€ƒè™‘ï¼Œä½†éœ€è¦æƒè¡¡ï¼š

**ä¼˜ç‚¹**ï¼š
- âœ… é™ä½ç”¨æˆ·å°è¯•é—¨æ§›
- âœ… å¢åŠ è®¢é˜…è½¬åŒ–ç‡

**ç¼ºç‚¹**ï¼š
- âŒ å¯èƒ½é™ä½å¹´åº¦è®¢é˜…çš„å¸å¼•åŠ›
- âŒ å¦‚æœæœˆåº¦ä¹Ÿæœ‰è¯•ç”¨ï¼Œç”¨æˆ·å¯èƒ½ä¸é€‰å¹´åº¦

**å»ºè®®ç­–ç•¥**ï¼š
- **æ–¹æ¡ˆ1**ï¼šåªç»™å¹´åº¦è®¢é˜…è¯•ç”¨ï¼ˆæ¨èï¼‰
  - å¼ºè°ƒå¹´åº¦è®¢é˜…çš„è¶…å€¼ä¼˜æƒ 
  - é¼“åŠ±ç”¨æˆ·é€‰æ‹©é•¿æœŸè®¢é˜…

- **æ–¹æ¡ˆ2**ï¼šä¸¤è€…éƒ½æœ‰è¯•ç”¨ï¼Œä½†å¹´åº¦è¯•ç”¨æ›´é•¿
  - æœˆåº¦ï¼š3å¤©å…è´¹è¯•ç”¨
  - å¹´åº¦ï¼š7å¤©å…è´¹è¯•ç”¨
  - ä½“ç°å¹´åº¦è®¢é˜…çš„æ›´é«˜ä»·å€¼

### Q5: å¦‚ä½•è¿½è¸ªè¯•ç”¨è½¬åŒ–ç‡ï¼Ÿ

**A:** åœ¨ App Store Connect ä¸­ï¼š
1. ç‚¹å‡» **"Sales and Trends"**ï¼ˆé”€å”®å’Œè¶‹åŠ¿ï¼‰
2. é€‰æ‹© **"è®¢é˜…"** æ ‡ç­¾
3. æŸ¥çœ‹æŒ‡æ ‡ï¼š
   - **è¯•ç”¨å¼€å§‹æ•°**ï¼šæœ‰å¤šå°‘ç”¨æˆ·å¼€å§‹è¯•ç”¨
   - **è¯•ç”¨è½¬åŒ–æ•°**ï¼šæœ‰å¤šå°‘è¯•ç”¨ç”¨æˆ·è½¬ä¸ºä»˜è´¹ç”¨æˆ·
   - **è½¬åŒ–ç‡**ï¼šè¯•ç”¨è½¬åŒ–æ•° Ã· è¯•ç”¨å¼€å§‹æ•°

### Q6: å¦‚æœé…ç½®é”™äº†ï¼Œå¯ä»¥ä¿®æ”¹å—ï¼Ÿ

**A:** å¯ä»¥ä¿®æ”¹è¯•ç”¨æ—¶é•¿å’Œå¯ç”¨åœ°åŒºï¼Œä½†éœ€è¦æ³¨æ„ï¼š
- ä¿®æ”¹åï¼Œæ–°ç”¨æˆ·ä¼šç«‹å³çœ‹åˆ°æ–°çš„è¯•ç”¨æ¡æ¬¾
- å·²ç»åœ¨è¯•ç”¨æœŸå†…çš„ç”¨æˆ·ä¸å—å½±å“
- å»ºè®®åœ¨ä¸Šçº¿å‰ä»”ç»†æµ‹è¯•

### Q7: æ²™ç›’æµ‹è¯•æ—¶çœ‹ä¸åˆ°å…è´¹è¯•ç”¨æ€ä¹ˆåŠï¼Ÿ

**A:** æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. âœ… ç¡®è®¤åœ¨App Store Connectä¸­å·²é…ç½®å…è´¹è¯•ç”¨
2. âœ… ä½¿ç”¨æ–°çš„æ²™ç›’æµ‹è¯•è´¦å·ï¼ˆæœªä½¿ç”¨è¿‡è¯•ç”¨ï¼‰
3. âœ… ç¡®ä¿æ²™ç›’è´¦å·çš„åœ°åŒºæ”¯æŒè¯¥ä¼˜æƒ 
4. âœ… åœ¨Xcodeä¸­æ¸…ç†ç¼“å­˜ï¼šProduct â†’ Clean Build Folder
5. âœ… åˆ é™¤Appé‡æ–°å®‰è£…

### Q8: å¦‚ä½•åœ¨Appä¸­æ£€æµ‹ç”¨æˆ·æ˜¯å¦åœ¨è¯•ç”¨æœŸï¼Ÿ

**A:** StoreKit 2æä¾›äº†APIæ¥æ£€æµ‹ï¼š

```swift
// åœ¨ PurchaseStore ä¸­æ·»åŠ 
func isInTrialPeriod() async -> Bool {
    guard let product = products.first(where: { $0.id == AppEntitlements.ProductID.premiumYearly }) else {
        return false
    }
    
    if let status = await status(for: product) {
        switch status.state {
        case .subscribed:
            // æ£€æŸ¥æ˜¯å¦åœ¨è¯•ç”¨æœŸ
            if let transaction = status.transaction,
               case .verified(let verified) = transaction,
               verified.offerType == .introductory {
                return true
            }
        default:
            break
        }
    }
    return false
}
```

ä½¿ç”¨åœºæ™¯ï¼š
- åœ¨UIä¸­æ˜¾ç¤º"è¯•ç”¨ä¸­"æ ‡ç­¾
- å‘é€æé†’é€šçŸ¥ï¼š"æ‚¨çš„è¯•ç”¨è¿˜å‰©Xå¤©"
- ç»Ÿè®¡åˆ†æ

---

## ğŸ‰ å®Œæˆæ¸…å•

é…ç½®å®Œæˆåï¼Œè¯·ç¡®è®¤ä»¥ä¸‹æ‰€æœ‰é¡¹ç›®ï¼š

### App Store Connect é…ç½®
- [ ] å·²ç™»å½• App Store Connect
- [ ] æ‰¾åˆ°å¹´åº¦è®¢é˜…äº§å“ `com.hulubeici.pro.yearly`
- [ ] æ·»åŠ äº†7å¤©å…è´¹è¯•ç”¨å¼•å…¥ä¼˜æƒ 
- [ ] è®¾ç½®è¯•ç”¨å¯¹æ‰€æœ‰åœ°åŒºå¯ç”¨
- [ ] ä¿å­˜äº†é…ç½®
- [ ] æäº¤äº†å®¡æ ¸ï¼ˆå¦‚éœ€è¦ï¼‰

### æµ‹è¯•éªŒè¯
- [ ] åˆ›å»ºäº†æ²™ç›’æµ‹è¯•è´¦å·
- [ ] åœ¨æµ‹è¯•è®¾å¤‡ä¸Šå®Œæˆäº†è®¢é˜…æµç¨‹
- [ ] ç¡®è®¤è´­ä¹°ç•Œé¢æ˜¾ç¤ºè¯•ç”¨ä¿¡æ¯
- [ ] éªŒè¯è¯•ç”¨æœŸå†…è·å¾—Proæƒç›Š
- [ ] æµ‹è¯•äº†å–æ¶ˆè®¢é˜…æµç¨‹
- [ ] éªŒè¯è¯•ç”¨ç»“æŸåçš„è¡Œä¸º

### ç”¨æˆ·ä½“éªŒä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰
- [ ] åœ¨ä»˜è´¹å¢™ä¸­çªå‡ºæ˜¾ç¤ºè¯•ç”¨ä¼˜æƒ 
- [ ] æ·»åŠ æ¸…æ™°çš„è¯•ç”¨æ¡æ¬¾è¯´æ˜
- [ ] åœ¨è®¾ç½®ä¸­è¯´æ˜å¦‚ä½•å–æ¶ˆè®¢é˜…
- [ ] æ›´æ–°Appæè¿°æåŠå…è´¹è¯•ç”¨

---

## ğŸ“š ç›¸å…³èµ„æº

- [Appleè®¢é˜…æœ€ä½³å®è·µ](https://developer.apple.com/app-store/subscriptions/)
- [StoreKit 2 å®˜æ–¹æ–‡æ¡£](https://developer.apple.com/documentation/storekit)
- [é…ç½®å¼•å…¥ä¼˜æƒ ](https://developer.apple.com/help/app-store-connect/manage-subscriptions/set-up-offer-codes)
- [æ²™ç›’æµ‹è¯•æŒ‡å—](https://developer.apple.com/help/app-store-connect/test-in-app-purchases/sandbox-testing)

---

**ç¥æ‚¨é…ç½®é¡ºåˆ©ï¼ğŸ‰**

å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·å‚è€ƒAppleå®˜æ–¹æ–‡æ¡£æˆ–è”ç³»Developer Supportã€‚
